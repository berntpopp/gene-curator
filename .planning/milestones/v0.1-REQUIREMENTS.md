# Requirements Archive: v0.1 Dynamic Forms

**Archived:** 2026-01-23
**Status:** SHIPPED

This is the archived requirements specification for v0.1.
For current requirements, see `.planning/PROJECT.md` (Active section).

---

# Requirements: Gene Curator v0.1 â€” Dynamic Forms

**Defined:** 2026-01-22
**Core Value:** Every scope can use their own curation methodology with dynamically rendered forms

## v0.1 Requirements

Requirements for milestone v0.1. Each maps to roadmap phases.

### Field Rendering

- [x] **FRND-01**: DynamicForm receives schemaId prop and fetches field_definitions from schema API
- [x] **FRND-02**: DynamicField renders appropriate Vuetify component based on field type (string, number, boolean, date, select, array, object)
- [x] **FRND-03**: Nested objects render as grouped fields with v-card container
- [x] **FRND-04**: Nested arrays render with add/remove item controls and recursive field rendering
- [x] **FRND-05**: Component registry maps field `component` property to specialized Vue components (MONDOAutocomplete, PMIDInput, HPOInheritanceSelect, OMIMAutocomplete)
- [x] **FRND-06**: DynamicField uses component from registry when field_definition specifies `component` property

### Tab/Section Structure

- [x] **TABS-01**: DynamicForm reads ui_configuration.layout.tabs array from schema
- [x] **TABS-02**: DynamicForm renders v-tabs with v-tab for each tab in configuration
- [x] **TABS-03**: Each tab renders its sections as defined in tab.sections array
- [x] **TABS-04**: Sections group related fields with optional collapsible behavior
- [x] **TABS-05**: Tab headers display icon from tab configuration (icon property)
- [x] **TABS-06**: Tab headers display score badge when tab.show_score_badge is true
- [x] **TABS-07**: Fallback to flat field list when ui_configuration is absent (backward compatible)

### Field Metadata

- [x] **META-01**: DynamicField displays prepend-icon from field_definition.icon property
- [x] **META-02**: DynamicField shows persistent hint below field from field_definition.hint property
- [x] **META-03**: DynamicField renders v-tooltip with field_definition.tooltip content on icon hover
- [x] **META-04**: DynamicField shows help icon that links to field_definition.helpUrl when present
- [x] **META-05**: Field metadata properties are optional and gracefully omitted when not defined

### Validation

- [x] **VALD-01**: DynamicField generates Vuetify :rules from schema constraints (required, minLength, maxLength, minimum, maximum)
- [x] **VALD-02**: DynamicField generates pattern validation rule from field_definition.pattern
- [x] **VALD-03**: DynamicField generates enum validation rule when field_definition.enum is present
- [x] **VALD-04**: DynamicForm calls validationStore.validateEvidence() on form data change (debounced)
- [x] **VALD-05**: Backend validation errors display inline on affected fields via error-messages prop
- [x] **VALD-06**: Form submission blocked when validation fails (v-form ref.validate())

### Scoring

- [x] **SCOR-01**: DynamicForm displays score_calculations from validation response when available
- [x] **SCOR-02**: Score calculation works for any schema type by using schema's scoring_configuration.engine
- [x] **SCOR-03**: ScorePreview component renders score breakdown based on schema type (ClinGen categories, GenCC levels, Qualitative ratings)
- [x] **SCOR-04**: Score updates live as user modifies evidence data (via debounced validation)
- [x] **SCOR-05**: Classification label derived from schema's scoring_configuration.classification_thresholds

### Integration

- [x] **INTG-01**: Remove isClinGenSchema check from SchemaDrivenCurationForm.vue
- [x] **INTG-02**: SchemaDrivenCurationForm passes full schema (field_definitions + ui_configuration) to DynamicForm
- [x] **INTG-03**: CurationFormView loads curations using DynamicForm for all schema types
- [x] **INTG-04**: PrecurationFormView replaced with DynamicForm-based rendering
- [x] **INTG-05**: Existing ClinGen curations load and save correctly through DynamicForm
- [x] **INTG-06**: Existing precurations load and save correctly through DynamicForm
- [x] **INTG-07**: Form recovery (localStorage auto-save) works with DynamicForm

## Future Requirements (Moved to Active in PROJECT.md)

### Conditional Visibility

- **COND-01**: Fields show/hide based on other field values
- **COND-02**: Visibility rules defined in field_definition.visibility property

### Cross-Field Validation

- **XVAL-01**: Validation rules can reference other field values
- **XVAL-02**: Cross-field rules defined in schema validation_rules

### Field Dependencies

- **DEPS-01**: Cascading selects (field B options depend on field A value)
- **DEPS-02**: Auto-population (selecting MONDO ID populates disease_name)

## Out of Scope

| Feature | Reason |
|---------|--------|
| Drag-and-drop form builder | Schemas defined by admin via database; separate product |
| Real-time collaboration | Massive complexity; workflow handles review process |
| Custom component registration at runtime | Security risk, debugging nightmare |
| Client-side schema editing | Schemas are institutional configurations |
| Offline-first / IndexedDB | Curation done online; localStorage recovery sufficient |
| AI-assisted field completion | Separate feature, out of scope for form infrastructure |
| PDF export / print layouts | Reporting feature, not form infrastructure |
| Form versioning (time-travel) | Audit log exists; undo/redo via useHistory |
| Backend schema changes | Backend is complete per PROJECT.md constraints |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| FRND-01 | Phase 1 | Complete |
| FRND-02 | Phase 1 | Complete |
| FRND-03 | Phase 1 | Complete |
| FRND-04 | Phase 1 | Complete |
| FRND-05 | Phase 1 | Complete |
| FRND-06 | Phase 1 | Complete |
| TABS-01 | Phase 2 | Complete |
| TABS-02 | Phase 2 | Complete |
| TABS-03 | Phase 2 | Complete |
| TABS-04 | Phase 2 | Complete |
| TABS-05 | Phase 2 | Complete |
| TABS-06 | Phase 2 | Complete |
| TABS-07 | Phase 2 | Complete |
| META-01 | Phase 3 | Complete |
| META-02 | Phase 3 | Complete |
| META-03 | Phase 3 | Complete |
| META-04 | Phase 3 | Complete |
| META-05 | Phase 3 | Complete |
| VALD-01 | Phase 4 | Complete |
| VALD-02 | Phase 4 | Complete |
| VALD-03 | Phase 4 | Complete |
| VALD-04 | Phase 4 | Complete |
| VALD-05 | Phase 4 | Complete |
| VALD-06 | Phase 4 | Complete |
| SCOR-01 | Phase 5 | Complete |
| SCOR-02 | Phase 5 | Complete |
| SCOR-03 | Phase 5 | Complete |
| SCOR-04 | Phase 5 | Complete |
| SCOR-05 | Phase 5 | Complete |
| INTG-01 | Phase 5 | Complete |
| INTG-02 | Phase 5 | Complete |
| INTG-03 | Phase 5 | Complete |
| INTG-04 | Phase 5 | Complete |
| INTG-05 | Phase 5 | Complete |
| INTG-06 | Phase 5 | Complete |
| INTG-07 | Phase 5 | Complete |

**Coverage:**
- v0.1 requirements: 32 total
- Mapped to phases: 32
- Unmapped: 0
- **Shipped: 32/32 (100%)**

---

## Milestone Summary

**Shipped:** 32 of 32 v0.1 requirements
**Adjusted:** None - all requirements implemented as specified
**Dropped:** None

---
*Archived: 2026-01-23 as part of v0.1 milestone completion*
